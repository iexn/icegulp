(function flexible(window, document) { var docEl = document.documentElement; var dpr = window.devicePixelRatio || 1; function setBodyFontSize() { if (document.body) { document.body.style.fontSize = 6 * dpr + 'px'; } else { document.addEventListener('DOMContentLoaded', setBodyFontSize); } }setBodyFontSize(); function setRemUnit() { let clientWidth = docEl.clientWidth; if (clientWidth > 600) { clientWidth = 600; } var rem = clientWidth / 37.5 * 2; docEl.style.fontSize = rem + 'px'; }setRemUnit(); window.addEventListener('resize', setRemUnit); window.addEventListener('pageshow', function(e) { if (e.persisted) { setRemUnit(); } }); if (dpr >= 2) { var fakeBody = document.createElement('body'); var testElement = document.createElement('div'); testElement.style.border = '.5px solid transparent'; fakeBody.appendChild(testElement); docEl.appendChild(fakeBody); if (testElement.offsetHeight === 1) { docEl.classList.add('hairlines'); }docEl.removeChild(fakeBody); } })(window, document);
