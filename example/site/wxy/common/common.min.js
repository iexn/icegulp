"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(o,n.prototype),o}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=t():"function"==typeof define&&define.amd?define(["template"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?exports.common=t():e.common=t()}(void 0,function(p){var o,a,i,u;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},writable:!0,configurable:!0}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var o,a,i=0|t,u=Math.max(0<=i?i:r-Math.abs(i),0);for(;u<r;){if((o=n[u])===(a=e)||"number"==typeof o&&"number"==typeof a&&isNaN(o)&&isNaN(a))return!0;u++}return!1}}),Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),u=(i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!==_typeof(e)&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var t=[];for(var n in e)o.call(e,n)&&t.push(n);if(a)for(var r=0;r<u;r++)o.call(e,i[r])&&t.push(i[r]);return t})),Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(e[t]);return n});var e,l,c,s,f,g={APP_STORAGE:"app",SESSION_STORAGE:"session",LOCAL_STORAGE:"local",ZH_CN:"zh_cn",OBJTYPE:"DOMMAP",AJAX_REQUEST_GET:"GET",AJAX_REQUEST_POST:"POST",AJAX_REQUEST_JSONP:"JSONP",AJAX_PARAMS_MATHOD_JSON:"json",AJAX_PARAMS_MATHOD_FORMDATA:"form_data",AJAX_PARAMS_MATHOD_STRINGIFY:"stringify",IMG1PX:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",TYPE_STUDENT:"2",TYPE_TEACHER:"1",TYPE_PARENT:"0"},h=function(){var s={},r=Object.prototype.toString,t=Array.prototype.slice;s.device=function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,r=0;r<t.length;r++)if(0<e.indexOf(t[r])){n=!1;break}return n?"pc":-1<e.indexOf("Android")||-1<e.indexOf("Linux")?"android":e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?"ios":"unknown"},s.isWechatDevice=function(){return!("micromessenger"!=window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i))},s.download=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(window.document){var n=document.createElement("a");n.href=e,"download"in n?n.setAttribute("download",t):n.setAttribute("target","_blank"),n.click()}else window.open(e)},s.isDom=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:e&&"object"===_typeof(e)&&1===e.nodeType&&"string"==typeof e.nodeName},s.type=function(e){if(null==e)return e+"";var t=_typeof(e);if("undefined"===t)return"undefined";if("object"!==t&&"function"!==t)return t;var n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error","[object Symbol]":"symbol","[object File]":"file"}[r.call(e)];return n||(s.isDom(e)?"dom":"object")},s.isEmpty=function(e){var t=s.type(e);return!("number"!=t||!isNaN(e))||(!!["null","undefined"].includes(t)||("boolean"==t&&0==e||("array"==t&&0==e.length||"file"!=t&&("object"==t&&0==Object.keys(e).length||""===e))))},s.defaults=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.isEmpty)(e)?t:e},s.getQuery=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:location.search,n={};return-1!=e.indexOf("?")&&(e=e.split("?")[1]),e.split("&").map(function(e){var t=e.split("=");""!=t[0]&&(n[t[0]]=t[1])}),n},s.query2Hash=function(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")},s.fullZeroNumber=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,n=e+"";if(isNaN(n))return e;for(;n.length<t;)n="0"+n;return n},s.getCalendarDate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date;if(e.hasOwnProperty("__calendarDate__"))return e;"string"==s.type(e)&&(e=e.trim().replace(/-/g,"/"));var a={ND:e=s.isEmpty(e)?new Date:new Date(e),year:e.getFullYear()+"",month:s.fullZeroNumber(e.getMonth()+1),day:s.fullZeroNumber(e.getDate()),hour:s.fullZeroNumber(e.getHours()),minute:s.fullZeroNumber(e.getMinutes()),second:s.fullZeroNumber(e.getSeconds()),week:0==e.getDay()?"7":e.getDay()+"",timestamp:e.getTime()+""};Object.defineProperty(a,"__calendarDate__",{enumerable:!1,value:e,writable:!1}),a.secondTimestamp=a.timestamp.slice(0,-3),a.format=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Y-m-d",t=/[YmdHis]/g,n={Y:a.year,m:a.month,d:a.day,H:a.hour,i:a.minute,s:a.second,w:a.week},r=null,o=e;r=t.exec(e);)o=o.replace(r[0],n[r[0]]);return o},a.overall={};var n={day:[a.year,+a.month-1,a.day],firstOfYear:[a.year,0,1],endOfYear:[+a.year+1,0,0],firstOfMonth:[a.year,+a.month-1,1],endOfMonth:[a.year,a.month,0]},t=function(t){a.overall[t]=function(){return(e=_construct(Date,_toConsumableArray(n[t]))).getTime()==a.timestamp?a:s.getCalendarDate(e);var e}};for(var r in n)t(r);return a.step={day:function(){return Math.floor(a.step.secondOfYear/86400)+1+""},week:function(){return Math.floor((a.step.day()-a.week)/7)+1+""},secondOfYear:function(){return a.overall.day().secondTimestamp-a.overall.firstOfYear().secondTimestamp+""}},a},s.like2Array=function(e){return t.call(e)},s.getFileMd5=function(n,t){var r=new FileReader,o=File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice,a=2097152,i=Math.ceil(n.size/a),u=0,l=new SparkMD5,c=n.name;function s(){var e=u*a,t=e+a>=n.size?n.size:e+a;r.readAsBinaryString(o.call(n,e,t))}r.onload=function(e){l.appendBinary(e.target.result),++u<i?s():t&&t({name:c,size:n.size+"",KB:(n.size/1024).toFixed(2),MB:(n.size/1024/1024).toFixed(2),GB:(n.size/1024/1024/1024).toFixed(2),md5:l.end()})},s()},s.buffer2String=function(e){var t=String.fromCodePoint.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))},s.base642Blob=function(e){var t;t=0<=e.split(",")[0].indexOf("base64")?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([r],{type:n})},s.blob2File=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return n=Object.assign({type:"image/jpg"},n),new File([e],t,n)},s.likeArray=function(){var n={length:0};return{add:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.length;return"length"==t?console.log("Error:util",'util.likeArray.add 不支持追加 "length"字段'):(n[t]=e,n.length+=1),t},remove:function(e){return!(s.isEmpty(e)||"length"==e||!n.hasOwnProperty(e))&&(delete n[e],n.length-=1,!0)},get:function(){if(Object.keys(t.call(n)).length==n.length)return t.call(n);var e=Object.assign({},n);return delete e.length,e},__name__:"likeArray"}},s.offset=function(e){for(var t=e.offsetTop,n=e.offsetLeft,r=e.offsetWidth,o=e.offsetHeight;e=e.offsetParent;)t+=e.offsetTop,n+=e.offsetLeft;return{top:t,left:n,width:r,height:o}},s.iosTextBlurScroll=function(e){if(!e)return!1;var t=document.body.scrollHeight;e.onblur=function(){setTimeout(function(){window.scroll(0,t-10),window.innerHeight=window.outerHeight=t},200)}},s.getHoursSecond=function(e){if(!/^\d\d\:\d\d(\:\d\d)?$/.test(e))return!1;var t=e.split(":");return 3600*t[0]+60*t[1]},s.getFields=function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e){return!0},a={};for(var t in $(e).serializeArray().map(function(e){var t=e.value.trim();if(/[\[\]\.]/.test(e.name))for(var n=/^([^.\[\]]+)+(\[(.*?)\]|\.)*?$/g,r=null;r=n.exec(e.name);)a.hasOwnProperty(r[1])||(a[r[1]]=s.likeArray()),s.isEmpty(r[3])?o(t,r[1])&&a[r[1]].add(t):o(t,r[1])&&a[r[1]].add(t,r[3]);else o(t,e.key)&&(a[e.name]=t)}),a)"likeArray"==a[t].__name__&&(a[t]=a[t].get());return a},s.objectInset=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},s.is=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";2<arguments.length&&void 0!==arguments[2]&&arguments[2];if("regexp"==s.type(e))return e.test(t);var n=function(e,t){switch(e){case"empty":e="^$";break;case"url":e="^(((http|https)):\\/\\/)[\\w-]+(\\.[\\w-]+)+([\\w.,@?^=%&:\\/~+#-]*[\\w@?^=%&\\/~+#-])?$";break;case"urlsimple":e="^(((http|https)):\\/\\/)?[\\w-]+(\\.[\\w-]+)+([\\w.,@?^=%&:\\/~+#-]*[\\w@?^=%&\\/~+#-])?$";break;case"host":e="^[\\w-]+(\\.[\\w-]+)+$";break;case"nosymbol":e="^[^\\<\\>\\{\\}]*$";break;default:throw"util.is 使用了不支持的验证规则"}return(e=new RegExp(e)).test(t)};if(-1==e.indexOf("|"))return n(e,t);for(var r=e.split("|"),o=!1,a=0;a<r.length;a++){var i=r[a];if(-1!=i.indexOf("&")){for(var u=i.split("&"),l=!0,c=0;c<u.length;c++){n(u[c],t)||(l=!1)}l&&(o=!0)}else n(i,t)&&(o=!0)}return o},s.jsonparse=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];try{t=JSON.parse(e)}catch(e){t=n}return!1!==r?s.defaults(t[r],""):t};var n=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,o=function(){function t(e){if(_classCallCheck(this,t),"string"!=typeof e)throw new Error("Input must be a string");this._string=e,this._match=e.match(n)||[]}return _createClass(t,[{key:"length",get:function(){return this._match.length}},{key:"toString",value:function(){return this._string}},{key:"reverse",value:function(){return this._match.reverse().join("")}},{key:"substring",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length?arguments[1]:void 0,r=this.length,o=(parseInt(t,10)||0)<0?0:parseInt(t,10)||0;if(r<o&&(o=r),r<(e=void 0===n?r:(parseInt(n,10)||0)<0?0:parseInt(n,10)||0)&&(e=r),e<o){var a=[e,o];o=a[0],e=a[1]}return this._match.slice(o,e).join("")}},{key:"substr",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length?arguments[1]:void 0,r=this.length,o=parseInt(t,10)||0;return r<=o||n<=0?"":(o<0&&(o=Math.max(0,o+r)),e=void 0===n?r:o+(parseInt(n,10)||0),this._match.slice(o,e).join(""))}}]),t}();return s.emojiString=function(e){return new o(e)},s.hashFnv32a=function(e,t,n){var r,o,a=void 0===n?2166136261:n;for(r=0,o=e.length;r<o;r++)a^=e.charCodeAt(r),a+=(a<<1)+(a<<4)+(a<<7)+(a<<8)+(a<<24);return t?("0000000"+(a>>>0).toString(16)).substr(-8):a>>>0},s}(),t=(l={},c="~overdueTime",(e={}).get=function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g.APP_STORAGE,o=h.getCalendarDate(new Date),a=e+c;switch(r){case g.APP_STORAGE:var i=l[e];h.isEmpty(i)&&(i={storageTime:null,storageValue:null}),t=i.storageTime,n=i.storageValue;break;case g.SESSION_STORAGE:t=sessionStorage.getItem(a),n=sessionStorage.getItem(e);break;case g.LOCAL_STORAGE:t=localStorage.getItem(a),n=localStorage.getItem(e)}if(null===n||null===t)return null;try{n=JSON.parse(n)}catch(e){}return 0<~~t&&t<o.timestamp&&(sessionStorage.removeItem(a),sessionStorage.removeItem(e),n=null),n},e.set=function(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:g.APP_STORAGE,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=h.getCalendarDate(new Date),a=t+c,i=0;switch(null!==r&&(i=o.timestamp+1e3*~~r),e){case g.APP_STORAGE:if(null===n)return void delete l[t];l[t]={storageTime:i,storageValue:n};break;case g.SESSION_STORAGE:if(null===n)return sessionStorage.removeItem(a),void sessionStorage.removeItem(t);sessionStorage.setItem(a,i);try{sessionStorage.setItem(t,JSON.stringify(n))}catch(e){sessionStorage.setItem(t,n)}break;case g.LOCAL_STORAGE:if(null===n)return localStorage.removeItem(a),void localStorage.removeItem(t);localStorage.setItem(a,i);try{localStorage.setItem(t,JSON.stringify(n))}catch(e){localStorage.setItem(t,n)}}},e),n=function(){var i={},l={},e={};function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g.AJAX_PARAMS_MATHOD_JSON,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=Object.assign({from_src:"1"==sessionStorage.isFromQYWX?"qywx":"fwh"},e);switch(n&&Object.assign(r,{token:l.USER.TOKEN,udid:l.USER.UDID,user_id:l.USER.USER_ID,version:l.USER.VERSION,orgId:l.USER.ORG_ID,siteId:l.SITE.ID,appKey:l.SITE.KEY}),t){case g.AJAX_PARAMS_MATHOD_JSON:return r;case g.AJAX_PARAMS_MATHOD_FORMDATA:var o=new FormData;for(var a in r)o.append(a,r[a]);return o;case g.AJAX_PARAMS_MATHOD_STRINGIFY:var i=[];for(var u in r)i.push(u+"="+r[u]);return i.join("&")}}return Object.defineProperty(i,"xhrFields",{enumerable:!1,get:function(){return e},set:function(){return e={}}}),i.request=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(h.isEmpty(e))throw"未指定请求地址";0!==e.indexOf("http")&&(e=l.API_HOST+""+e);var r=new RegExp("(?<!:)//","g");e=e.replace(r,"/"),n=Object.assign({method:"POST",loading:!0,headers:{},done:function(){},fail:function(){}},n),setTimeout(function(){console.log(n.method+" "+e.replace("https://",""),t)},200);var o,a={hide:function(e){e&&e()}};return n.loading&&(a=d.loading()),(o=n.method==g.AJAX_REQUEST_GET?function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return $.ajax({url:e,type:"GET",data:u(t,g.AJAX_PARAMS_MATHOD_STRINGIFY,!0),dataType:"json",cache:!1,processData:!1,contentType:!1,crossDomain:!0,headers:Object.assign(u(),n.headers),xhrFields:Object.assign(i.xhrFields,n.xhrFields)})}(e,t,n):n.method==g.AJAX_REQUEST_JSONP?function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return $.ajax({url:e,type:"JSONP",data:Object.assign(u(t,g.AJAX_PARAMS_MATHOD_STRINGIFY),n.headers),dataType:"json",cache:!1,processData:!1,contentType:!1,crossDomain:!0,xhrFields:Object.assign(i.xhrFields,n.xhrFields)})}(e,t,n):function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return $.ajax({url:e,type:"POST",data:u(t,g.AJAX_PARAMS_MATHOD_FORMDATA,!0),dataType:"json",cache:!1,processData:!1,contentType:!1,crossDomain:!0,headers:Object.assign(u(),n.headers),xhrFields:Object.assign(i.xhrFields,n.xhrFields)})}(e,t,n)).done(function(e){a.hide(function(){200===e.code?n.done&&n.done(e,!0):n.fail&&n.fail({code:e.code,message:e.message,data:e.data,response:o})})}).fail(function(e){a.hide(function(){if("abort"==e.statusText)return!1;n.fail&&n.fail({code:-1,message:"服务器繁忙，请重试",data:{},response:e})})})},i.init=function(e){l=Object.assign({},e)},i}(),d=function(){var o,s=o={getContainer:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",r=o.create('<div id="'+n+'"></div>');return{el:r,append:function(e){var t=Array.prototype.slice.call(arguments);return"array"==h.type(e)&&(t=e),t.map(function(e){var t=h.type(e);if(h.isEmpty(e))return!1;if("string"==t){if(0==(e=e.trim()).length)return!1;e=o.create(e),t="dom"}return"dom"==t?e:"dom"==h.type(e.el)&&e.el}).filter(function(e){return!1!==e}).map(function(e){r.appendChild(e)}),this},render:function(e){if(void 0===e){var t=document.querySelector("#"+n);t.parentNode.replaceChild(r,t)}else{document.querySelector(e).append(r)}setTimeout(function(){r.className=(r.className+" on").trim()},100)}}},create:function(e){var t=document.createElement("div");e=e.trim();var n={thead:[1,"<table>","</table>"],tbody:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],th:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},r=n[(/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e)||["",""])[1].toLowerCase()]||n._default;t.innerHTML=r[1]+e+r[2];for(var o=r[0];o--;)t=t.lastChild;return t.firstChild},compile:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},r=this.create(t);n&&n(r),"string"==typeof e&&(e=document.querySelector(e)),e.appendChild(r)}},f={};function d(){var r,e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length?arguments[1]:void 0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",t=h.type(n);if("array"==t){n.__proto__=(r=function(e){o&&o(a+name,[n])},e=[],["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var n=Array.prototype[t];e[t]=function(){var e=n.apply(this,arguments);return r&&r(t),e}}),e.clear=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.length=e,r&&r("clear"),this},e);for(var i=0;i<n.length;i++)n[i]=d(n[i],o,a+i+".");return n}if("object"!=t)return n;var u={},l=function(t){var e=h.type(n[t]);"array"==e?u[t]=d(n[t],o,a+t+"."):"object"==e?u[t]=d(n[t],o,a+t+"."):Object.defineProperty(u,t,{enumerable:!0,get:function(){return n[t]},set:function(e){return n[t]=e,o&&o(a+t,[e]),n[t]}})};for(var c in n)l(c);return u}return f.getContainer=function(){return s.getContainer("app")},f.hotData=d,f.create=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if("object"==h.type(e)&&e.__OBJTYPE__==g.OBJTYPE)return e;var r,o=!0;h.isDom(e)?(r=e,null==t&&r.__DATA__&&(t=r.__DATA__,o=!1)):r=s.create(p.render(e,t,n.template));var a={};function i(e,t,n){var r=!1;a.hasOwnProperty(e)&&a[e].map(function(e){e.callback&&(r=!0,e.callback.apply(e,t))}),r||n&&n.apply(void 0,[e].concat(_toConsumableArray(t)))}n=Object.assign({accessDom:!1},n);var u=null,l=o?d(t,function(e,t){i("data:"+e,t,u)}):t,c={el:r,data:l,on:function(e,t){a.hasOwnProperty(e)||(a[e]=[]),a[e].push({key:e,callback:t})},off:function(e,t){if(a.hasOwnProperty(e))for(var n=a[e].length-1;0<=n;n--)a[e][n].callback==t&&a[e].splice(n,1)},trigger:i,addEventListener:r.addEventListener.bind(r),querySelector:r.querySelector.bind(r),querySelectorAll:r.querySelectorAll.bind(r),appoint:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};try{return f.create(r.querySelector(t),e,n)}catch(e){return!1!==n.error&&console.error("appoint未找到DOM结构："+t),null}},empty:function(){return r.innerHTML="",c},nfempty:function(){for(;1<r.children.length;)r.removeChild(r.lastChild);return c},remove:function(){r.parentNode&&r.parentNode.removeChild(r)},onDataChange:function(e){u=e},append:function(e){var t=Array.prototype.slice.call(arguments);return"array"==h.type(e)&&(t=e),t.map(function(e){return("string"==typeof e||h.isDom(e))&&(e=f.create(e)),e.__OBJTYPE__==g.OBJTYPE?r.appendChild(e.el):console.log("未识别的模板内容：template不是一个"+g.OBJTYPE+"对象，已被系统忽略"),!1}),c},after:function(e){var t=Array.prototype.slice.call(arguments);return"array"==h.type(e)&&(t=e),t.map(function(e){return("string"==typeof e||h.isDom(e))&&(e=f.create(e)),e.__OBJTYPE__==g.OBJTYPE?r.nextSibling?r.parentNode.insertBefore(e.el,r.nextSibling):r.parentNode.appendChild(e.el):console.log("未识别的模板内容：template不是一个"+g.OBJTYPE+"对象，已被系统忽略"),!1}),c},insertBefore:function(e){var t=Array.prototype.slice.call(arguments);return"array"==h.type(e)&&(t=e),t.map(function(e){return("string"==typeof e||h.isDom(e))&&(e=f.create(e)),e.__OBJTYPE__==g.OBJTYPE?r.firstChild?r.insertBefore(e.el,r.firstChild):r.appendChild(e.el):console.log("未识别的模板内容：template不是一个"+g.OBJTYPE+"对象，已被系统忽略"),!1}),c},replace:function(e){return c.after(f.create(e)).remove(),c},html:function(e){return c.empty().append(f.create(e)),c},text:function(e){return c.empty().el.innerHTML=e,c}};return r.__DATA__=l,Object.defineProperty(c,"__OBJTYPE__",{enumerable:!1,value:g.OBJTYPE,writable:!1}),c},f.appoint=function(e,t,n){return f.create(document.querySelector(e),t,n)},f.uploadExcel=function(n){var e=f.create('<input type="file" accept=".xls,.xlsx"/>');return e.addEventListener("change",function(e){var t=e.target.files;0!=t.length&&n&&n(t)}),e.el.click(),e},f.loading=function(e){var t=$("<div class='loading-bg' loading-id='1' style=\"z-index:10200000\"></div><div class='loadingimg' loading-id='2' style=\"z-index:10200000\"><img src='images/loading-2.gif'><div>".concat(e||"数据加载中，请稍后...","</div></div>"));return $(".loading-bg").remove(),$(".loadingimg").remove(),$(".topbar").after(t),{hide:function(e){var t=$(".loading-bg"),n=$(".loadingimg");t.fadeOut("fast"),n.fadeOut("fast"),e&&e()}}},f}(),r=((s={open_loading:!(f=function(t){var n=s.loading("加载中");require(["wx"],function(e){n.hide(function(){t&&t(e)})})}),loading:function(e){return s.open_loading?weui.loading(e||"加载中"):{hide:function(e){e&&e()}}}}).init=function(n,r,o){r=Object.assign({apiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onVoiceRecordEnd","playVoice","onVoicePlayEnd","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getLocalImgData","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView"]},r),f(function(e){var t=s.loading("加载中");e.hideAllNonBaseMenuItem(),e.showMenuItems({menuList:["menuItem:copyUrl"]}),e.config({beta:!0,debug:!1,appId:n.appId,timestamp:n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:r.apiList}),e.ready(function(){t.hide(function(){o&&o(e)})}),e.error(function(e){t.hide(function(){console.log("error")})})})},s.uploadImage=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t=Object.assign({count:9,sizeType:["compressed"],sourceType:["album"]},t);var u=[];t.success=function(e){r.beforeUpload&&r.beforeUpload(),function n(r,o,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(r[i]){var t=r[i];f(function(e){e.uploadImage({localId:t,isShowProgressTips:1,success:function(e){var t=e.serverId;u.push(t),n(r,o,a,i+1)},fail:function(e){a(e)}})})}else o&&o(u)}(e.localIds,function(e){n&&n(e)})},f(function(e){e.chooseImage(t)})},s.imagePreview=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;e="string"==typeof n?n:t[n],WeixinJSBridge.invoke("imagePreview",{current:e,urls:t},function(e){console.log(e.err_msg)})},s);return p.defaults.imports.CONST=g,{util:h,cache:t,api:n,component:d,wx:r,const:g}});